<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UKCinemas</title>
    <link rel="icon" href="Images/icon.png">
    <link rel="stylesheet" href="films.css">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="https://code.jquery.com/jquery-3.7.0.min.js">
    <link rel="stylesheet" href="node_modules/axios/dist/axios.js">
</head>
<body>
    <header>
        <div class="container">
            <a href="index.html"><img src="Images/icon.png" alt="" class="logo"></a>
            <p>Films</p>
            <img src="Images/search.png" alt="" class="search">
        </div>
    </header>

    <div class="container-fluid Film-search">
        <div class="container">
            <div class="sort" id="city">
                <p>By cinemas:</p>

            </div>
            <div class="Films_Block" id="films"></div>
        </div>
    </div>
    
    <div class="footer">
        <div class="container">
            <a href="index.html"><img src="Images/Footer_img.png" alt="" class="footerImg"></a>
            <div class="footer-block">
                <a href="films.html">Films</a>
                <a href="cinemas.html">Cinemas</a>
                <div class="img">
                    <a href="#"><img src="Images/Footer_telegram.png" alt=""></a>
                    <a href="#"><img src="Images/Footer_instagram.png" alt=""></a>
                    <a href="#"><img src="Images/Footer_whatsapp.png" alt=""></a>
                </div>
            </div>
            <div class="footer-number">
                <span>+7 (777)-777-7777</span>
                <span>+7 (777)-777-7777</span>
            </div>
        </div>
    </div>
</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="node_modules/axios/dist/axios.js"></script>
<script>

    axios.get('Cinemas.json').then(function (response) {
        // Когда запрос завершен успешно, обрабатываем данные JSON
        var cinemaData = response.data.vue_cinemas;

        // Получаем элемент блока "films"
        var filmsBlock = document.getElementById('city');
        var filmDiv = document.createElement('div');
          filmDiv.classList.add('cities');

        // Создаем элементы для каждого фильма в JSON и добавляем их в блок "films"
        cinemaData.forEach(function (film) {
            var cinemaDiv = document.createElement('div');
            cinemaDiv.classList.add('cityBlock');

          var cinemaRadio = document.createElement('input');
          cinemaRadio.classList.add('CityCheck');
          cinemaRadio.type = "checkbox";
          cinemaRadio.id = film.name;
          cinemaRadio.name = "CityCheck";


          var cityName = document.createElement('label');
          cityName.innerText = film.name;
          cityName.classList.add('CityText');



          cinemaDiv.appendChild(cinemaRadio);
          cinemaDiv.appendChild(cityName);
        //   filmDiv.appendChild(filmName);
        filmDiv.appendChild(cinemaDiv);
          filmsBlock.appendChild(filmDiv);
        });
    })
    .catch(function (error) {
      // Обрабатываем ошибку при запросе файла JSON
      console.error('Ошибка при чтении данных:', error);
    });

    // ==============

    axios.get('films.json').then(function (response) {
        // Когда запрос завершен успешно, обрабатываем данные JSON
        var filmsData = response.data.films;

        // Получаем элемент блока "films"
        var filmsBlock = document.getElementById('films');

        // Создаем элементы для каждого фильма в JSON и добавляем их в блок "films"
        filmsData.forEach(function (film) {
          var filmDiv = document.createElement('div');
          filmDiv.classList.add('films');

          var filmImg = document.createElement('img');
          filmImg.src = 'Images/Bin.png'; // Замените на ссылку на изображение для каждого фильма

          var filmName = document.createElement('span');
          filmDiv.innerText = film.name;

          filmDiv.appendChild(filmImg);
        //   filmDiv.appendChild(filmName);

          filmsBlock.appendChild(filmDiv);
        });
      })
      .catch(function (error) {
        // Обрабатываем ошибку при запросе файла JSON
        console.error('Ошибка при чтении данных:', error);
      });
    const cityCheckboxes = document.querySelectorAll('input[name="CityCheck"]');
    cityCheckboxes.forEach(function (checkbox) {
        checkbox.addEventListener('change', filterFilms);
    });
</script>
